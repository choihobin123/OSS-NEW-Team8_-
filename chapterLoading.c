#include <stdio.h>
#include <windows.h>
#include <string.h>

// 챕터 전환 연출 함수
void showChapterTransition(const char* title) {
    system("cls"); // 화면 초기화

    // 1. 테두리 출력
    printf("\n");
    printf("   ====================================================================\n");
    printf("\n");

    // 2. 학년별 로고 및 색상 설정
    if (strstr(title, "1학년") != NULL) {
        // 1학년: 연두색(10) -> YEAR 1
        setColor(10); 
        printf("    ██╗   ██╗███████╗ █████╗ ██████╗       ██╗ \n");
        printf("    ╚██╗ ██╔╝██╔════╝██╔══██╗██╔══██╗     ███║ \n");
        printf("     ╚████╔╝ █████╗  ███████║██████╔╝     ╚██║ \n");
        printf("      ╚██╔╝  ██╔══╝  ██╔══██║██╔══██╗      ██║ \n");
        printf("       ██║   ███████╗██║  ██║██║  ██║      ██║ \n");
        printf("       ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝      ╚═╝ \n");
        printf("\n");
        printf("             [ FRESHMAN : 설레는 1학년 ]              \n");
    }
    else if (strstr(title, "2학년") != NULL) {
        // 2학년: 하늘색(11) -> YEAR 2
        setColor(11);
        printf("    ██╗   ██╗███████╗ █████╗ ██████╗       ██████╗ \n");
        printf("    ╚██╗ ██╔╝██╔════╝██╔══██╗██╔══██╗      ╚════██╗\n");
        printf("     ╚████╔╝ █████╗  ███████║██████╔╝       █████╔╝\n");
        printf("      ╚██╔╝  ██╔══╝  ██╔══██║██╔══██╗      ██╔═══╝ \n");
        printf("       ██║   ███████╗██║  ██║██║  ██║      ███████╗\n");
        printf("       ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝      ╚══════╝\n");
        printf("\n");
        printf("             [ SOPHOMORE : 헌내기 2학년 ]             \n");
    }
    else if (strstr(title, "3학년") != NULL) {
        // 3학년: 노란색(14) -> YEAR 3
        setColor(14);
        printf("    ██╗   ██╗███████╗ █████╗ ██████╗       ██████╗ \n");
        printf("    ╚██╗ ██╔╝██╔════╝██╔══██╗██╔══██╗      ╚════██╗\n");
        printf("     ╚████╔╝ █████╗  ███████║██████╔╝       █████╔╝\n");
        printf("      ╚██╔╝  ██╔══╝  ██╔══██║██╔══██╗       ╚═══██╗\n");
        printf("       ██║   ███████╗██║  ██║██║  ██║      ██████╔╝\n");
        printf("       ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝      ╚═════╝ \n");
        printf("\n");
        printf("              [ JUNIOR : 사망년 3학년 ]               \n");
    }
    else if (strstr(title, "4학년") != NULL) {
        // 4학년: 빨간색(12) -> YEAR 4
        setColor(12);
        printf("    ██╗   ██╗███████╗ █████╗ ██████╗       ██╗  ██╗\n");
        printf("    ╚██╗ ██╔╝██╔════╝██╔══██╗██╔══██╗      ██║  ██║\n");
        printf("     ╚████╔╝ █████╗  ███████║██████╔╝      ███████║\n");
        printf("      ╚██╔╝  ██╔══╝  ██╔══██║██╔══██╗      ╚════██║\n");
        printf("       ██║   ███████╗██║  ██║██║  ██║           ██║\n");
        printf("       ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝           ╚═╝\n");
        printf("\n");
        printf("               [ SENIOR : 고인물 4학년 ]              \n");
    }
    else {
        // 기타
        setColor(15);
        printf("     ██████╗██████╗ ███████╗ ██████╗██╗ █████╗ ██╗     \n");
        printf("    ██╔════╝██╔══██╗██╔════╝██╔════╝██║██╔══██╗██║     \n");
        printf("     ██████╗██████╔╝█████╗  ██║     ██║███████║██║     \n");
        printf("     ╚═══██║██╔═══╝ ██╔══╝  ██║     ██║██╔══██║██║     \n");
        printf("    ██████║ ██║     ███████╗╚██████╗██║██║  ██║███████╗\n");
        printf("    ╚═════╝ ╚═╝     ╚══════╝ ╚═════╝╚═╝╚═╝  ╚═╝╚══════╝\n");
        printf("\n");
        printf("                  [ %s ]                  \n", title);
    }

    // 3. 로딩바 연출
    setColor(7); 
    printf("\n\n");
    printf("     Loading Data... \n");
    printf("     ");
    
    for(int i=0; i<30; i++) {
        printf("█"); 
        Sleep(20); 
    }
    printf(" COMPLETE!\n");
    
    printf("\n");
    printf("   ====================================================================\n");
    
    setColor(15); // 흰색
    printf("\n\n                  [ PRESS ENTER TO START ]\n");
    
    // 엔터키 입력 대기 (버퍼 비우기 포함)
    while(getchar() != '\n'); 
    
    system("cls"); // 화면 지우고 게임 시작
}