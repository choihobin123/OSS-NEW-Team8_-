#ifndef EVENTS_Y4_H
#define EVENTS_Y4_H

#include "gamefunc.h"

// =============================================================
// [4학년 스토리 컨셉]
// "취업이라는 거대한 벽, 그리고 졸업."
// 키워드: 자소서, 코딩 테스트, 졸업 작품, 면접, 해탈
// =============================================================

// [무작위 질문지] : 취준생의 일상 돌발 상황 (9개)
static const Event events_y4_random[9] = {
    {
        .question = "[돌발] 자소서 마감이 1시간 남았는데 서버가 터졌다!",
        .choice1 = "새로고침 무한 클릭.",
        .choice2 = "침착하게 모바일 핫스팟으로 접속한다.",
        .choice3 = "운명이라 생각하고 포기한다.",
        .result1 = "손가락은 빨랐지만 서버는 응답이 없다. 결국 제출 실패.",
        .result2 = "침착한 대응으로 마감 1분 전 제출 성공!",
        .result3 = "잠은 잘 잤지만, 지원 기회 하나가 날아갔다.",
        .stateChange1 = { +10, 0, 0 }, 
        .stateChange2 = { +5, +5, 0 }, 
        .stateChange3 = { -5, -5, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    },
    {
        .question = "[돌발] 졸업 작품 코드에 원인 모를 버그가 발생했다.",
        .choice1 = "스택 오버플로우를 샅샅이 뒤진다.",
        .choice2 = "컴퓨터를 껐다 켜본다.",
        .choice3 = "팀원에게 조용히 넘긴다.",
        .result1 = "밤을 새워 해결했다. 실력이 비약적으로 상승했다.",
        .result2 = "기적이 일어났다! 다시 켜니 잘 돌아간다.",
        .result3 = "팀원과의 관계가 파탄 났지만 몸은 편하다.",
        .stateChange1 = { +15, +15, 0 }, 
        .stateChange2 = { -5, 0, 0 }, 
        .stateChange3 = { +10, -10, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    },
    {
        .question = "[돌발] 코딩 테스트 도중 화장실이 너무 급하다.",
        .choice1 = "식은땀을 흘리며 끝까지 버틴다.",
        .choice2 = "부정행위로 의심받더라도 다녀온다.",
        .choice3 = NULL,
        .result1 = "정신력으로 합격했지만, 방광 건강을 잃었다.",
        .result2 = "감독관의 경고를 받았고, 리듬이 깨져 탈락했다.",
        .result3 = NULL,
        .stateChange1 = { +25, +10, 0 },
        .stateChange2 = { +5, -10, 0 },
        .stateChange3 = { 0, 0, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    },
    {
        .question = "[돌발] 이미 취업한 동기가 술 한잔하자고 자랑 전화를 한다.",
        .choice1 = "축하해주러 나간다.",
        .choice2 = "바쁘다며 차갑게 거절한다.",
        .choice3 = "취업 꿀팁을 전수받으러 간다.",
        .result1 = "좋은 친구지만, 집으로 돌아오는 길에 공허함이 밀려온다.",
        .result2 = "우정을 잃었지만 공부 시간 3시간을 확보했다.",
        .result3 = "꿀팁은 얻었으나 술값은 내가 냈다.",
        .stateChange1 = { +15, 0, 0 }, 
        .stateChange2 = { -5, +2, 0 },
        .stateChange3 = { +5, +5, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    },
    {
        .question = "[돌발] 면접 복장을 샀는데 바지가 너무 꽉 끼는 것 같다.",
        .choice1 = "숨을 참고 그냥 입는다.",
        .choice2 = "돈이 아깝지만 새로 산다.",
        .choice3 = "살을 뺀다.",
        .result1 = "면접 내내 배가 아파서 답변에 집중을 못 했다.",
        .result2 = "핏이 완벽하다! 자신감이 상승했다.",
        .result3 = "면접 전날 기운이 없어서 쓰러질 뻔했다.",
        .stateChange1 = { +10, -5, 0 }, 
        .stateChange2 = { -20, 0, 0 }, 
        .stateChange3 = { +15, -5, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    },
    {
        .question = "[돌발] 밤샘 공부 중 편의점에서 유통기한 임박 도시락을 발견했다.",
        .choice1 = "돈 아껴야 한다. 바로 먹는다.",
        .choice2 = "탈 날까 봐 삼각김밥으로 때운다.",
        .choice3 = NULL,
        .result1 = "배탈이 났다. 하루를 통째로 날렸다.",
        .result2 = "배는 고프지만 컨디션은 유지했다.",
        .result3 = NULL,
        .stateChange1 = { +5, -5, 0 }, 
        .stateChange2 = { +5, 0, 0 }, 
        .stateChange3 = { 0, 0, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    },
    {
        .question = "[돌발] 부모님이 \"우리 아들 취업 언제 하니?\"라고 물으신다.",
        .choice1 = "열심히 하고 있다고 안심시켜 드린다.",
        .choice2 = "짜증을 내며 방으로 들어간다.",
        .choice3 = "조용히 용돈을 더 달라고 한다.",
        .result1 = "부모님은 믿어주시지만 어깨가 무거워진다.",
        .result2 = "집안 분위기가 싸해졌다. 스트레스 폭발.",
        .result3 = "철판을 깔았더니 맛있는 고기를 사주셨다.",
        .stateChange1 = { +10, 0, 0 }, 
        .stateChange2 = { +25, -5, 0 },
        .stateChange3 = { -10, 0, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    },
    {
        .question = "[돌발] 자소서에 쓸 '리더십 경험'이 전혀 기억나지 않는다.",
        .choice1 = "작은 경험을 거창하게 포장한다.",
        .choice2 = "솔직하게 팔로워십을 강조한다.",
        .choice3 = NULL,
        .result1 = "면접 때 꼬리 질문을 받고 진땀을 흘렸다.",
        .result2 = "담백한 매력으로 면접관의 호감을 샀다.",
        .result3 = NULL,
        .stateChange1 = { +10, +5, 0 }, 
        .stateChange2 = { -5, +10, 0 }, 
        .stateChange3 = { 0, 0, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    },
    {
        .question = "[돌발] 유튜브 알고리즘이 '취업 안 하고 세계여행' 영상을 추천한다.",
        .choice1 = "잠시 꿈을 꾸며 영상을 시청한다.",
        .choice2 = "관심 없음 버튼을 누르고 코드를 짠다.",
        .choice3 = NULL,
        .result1 = "행복했다. 하지만 현실로 돌아오니 더 비참하다.",
        .result2 = "냉철함을 유지했다. 나는 강한 취준생이다.",
        .result3 = NULL,
        .stateChange1 = { -10, -5, 0 }, 
        .stateChange2 = { +5, +5, 0 },
        .stateChange3 = { 0, 0, 0 },
        .next1 = 0, .next2 = 0, .next3 = 0
    }
};

// [고정 질문지] : 4학년 메인 스토리 (취업 도전기)
static const Event events_y4_fixed[20] = {
    {   // 0. 4학년의 시작
        .question = "드디어 4학년이다. 캠퍼스의 낭만은 끝났다. 무엇에 집중할까?",
        .choice1 = "학점 세탁을 위한 재수강 몰빵.",
        .choice2 = "취업을 위한 대외활동과 포트폴리오 정리.",
        .choice3 = "에라 모르겠다, 마지막으로 더 놀자.",
        .result1 = "성적표는 깨끗해졌지만, 자소서에 쓸 내용이 없다.",
        .result2 = "실무 역량이 쌓이며 취준생의 면모를 갖추게 되었다.",
        .result3 = "즐거웠다. 하지만 미래의 내가 고통받을 것이다.",
        .stateChange1 = { +5, +10, 0 }, 
        .stateChange2 = { +15, +20, 0 }, 
        .stateChange3 = { -10, -5, 0 },
        .next1 = 1, .next2 = 1, .next3 = 1
    },
    {   // 1. 졸업 작품 팀 빌딩
        .question = "졸업 작품 팀을 꾸려야 한다. 팀원 구성은?",
        .choice1 = "실력 있는 에이스들과 함께한다.",
        .choice2 = "친한 친구들과 의리로 뭉친다.",
        .choice3 = "혼자서 다 해먹는 1인 팀.",
        .result1 = "결과는 좋지만, 의견 충돌로 스트레스가 극에 달한다.",
        .result2 = "분위기는 좋지만, 결과물이 나오질 않는다.",
        .result3 = "실력은 폭발적으로 늘었지만, 몸이 망가졌다.",
        .stateChange1 = { +25, +15, 0 }, 
        .stateChange2 = { -10, -5, 0 }, 
        .stateChange3 = { +40, +30, 0 },
        .next1 = 2, .next2 = 2, .next3 = 2
    },
    {   // 2. 상반기 공채 지원
        .question = "첫 대기업 공채 시즌이 왔다. 어떻게 할까?",
        .choice1 = "가고 싶은 기업 한 곳에 올인한다.",
        .choice2 = "묻지마 지원! 일단 20군데 넣고 본다.",
        .choice3 = "아직 준비가 안 된 것 같아 지원을 포기한다.",
        .result1 = "서류 탈락의 충격이 너무 크다.",
        .result2 = "운 좋게 한 곳에서 코딩 테스트 연락이 왔다!",
        .result3 = "시간은 벌었지만, 동기들의 합격 소식에 배가 아프다.",
        .stateChange1 = { +15, +5, 0 }, 
        .stateChange2 = { +20, +5, 0 }, 
        .stateChange3 = { +5, -10, 0 },
        .next1 = 3, .next2 = 10, .next3 = 3 // 10번 면접 분기 이동
    },
    {   // 3. 코딩 테스트의 벽
        .question = "코딩 테스트에서 계속 떨어진다. 해결책은?",
        .choice1 = "백준/프로그래머스 문제를 하루 5개씩 푼다.",
        .choice2 = "유료 강의를 결제하여 스킬을 배운다.",
        .choice3 = "코딩은 포기하고 영업직으로 직무를 튼다.",
        .result1 = "머리는 아프지만 알고리즘 감각이 살아난다.",
        .result2 = "지갑은 가벼워졌지만 확실히 효율적이다.",
        .result3 = "새로운 길을 찾았지만 전공 공부가 아까워진다.",
        .stateChange1 = { +10, +15, 0 }, 
        .stateChange2 = { -5, +5, 0 }, 
        .stateChange3 = { +10, -30, 0 },
        .next1 = 4, .next2 = 4, .next3 = 4
    },
    {   // 4. 졸작 중간 점검
        .question = "졸업 작품 중간 발표 날이다. 교수님의 표정이 좋지 않다.",
        .choice1 = "밤을 새워서 기능을 완벽히 구현해낸다.",
        .choice2 = "화려한 PPT와 발표 스킬로 위기를 넘긴다.",
        .choice3 = "팀원 탓을 하며 책임을 회피한다.",
        .result1 = "교수님이 인정해주셨다. 실력이 급상승했다.",
        .result2 = "내용은 부실하지만 일단 통과는 했다.",
        .result3 = "팀 분위기가 최악이 되었다. 손절 각이다.",
        .stateChange1 = { +5, +10, 0 }, 
        .stateChange2 = { +10, +5, 0 }, 
        .stateChange3 = { +20, 0, 0 },
        .next1 = 5, .next2 = 5, .next3 = 5,
    },
    {   // 5. 여름방학 인턴십
        .question = "여름방학이다. 인턴십 기회가 찾아왔다.",
        .choice1 = "직무 관련 인턴에 지원하여 실무를 배운다.",
        .choice2 = "부족한 자격증 공부를 마무리한다.",
        .choice3 = "인생 마지막 방학이다. 여행을 떠난다.",
        .result1 = "실무 감각을 익히고 자소서 소스를 얻었다.",
        .result2 = "스펙은 완성되었지만 실무 경험이 아쉽다.",
        .result3 = "행복했다. 하지만 이력서는 텅 비어있다.",
        .stateChange1 = { +10, +15, 0 }, 
        .stateChange2 = { +5, +5, 0 }, 
        .stateChange3 = { -15, -5, 0 },
        .next1 = 6, .next2 = 6, .next3 = 6
    },
    {   // 6. 하반기 결전 준비
        .question = "드디어 4학년 2학기. 마지막 하반기 공채가 시작된다.",
        .choice1 = "자소서 첨삭 스터디에 참여한다.",
        .choice2 = "독서실에 틀어박혀 혼자 준비한다.",
        .choice3 = "취업 대신 대학원 진학을 고민한다.",
        .result1 = "타인의 시선으로 내 자소서를 객관화했다.",
        .result2 = "집중도는 높지만 정보가 부족해 불안하다.",
        .result3 = "교수님은 좋아하시지만 내 미래가 불투명해 보인다.",
        .stateChange1 = { +5, +5, 0 }, 
        .stateChange2 = { +10, +5, 0 }, 
        .stateChange3 = { +15, +10, 0 },
        .next1 = 10, .next2 = 10, .next3 = 7 // 대학원 선택 시 다른 경로
    },
    {   // 7. 대학원의 유혹
        .question = "교수님이 연구실로 부르시더니 대학원 진학을 권유하신다.",
        .choice1 = "대학원의 길을 고려해본다.",
        .choice2 = "정중히 거절하고 취업 시장으로 나간다.",
        .choice3 = "장학금 조건을 꼼꼼히 따져본다.",
        .result1 = "불안한 감정이 든다.",
        .result2 = "교수님의 눈총이 따갑지만 자유를 찾았다.",
        .result3 = "현실적인 고민 끝에 다시 취업 준비로 돌아온다.",
        .stateChange1 = { +30, +20, 0 }, 
        .stateChange2 = { +10, -5, 0 }, 
        .stateChange3 = { +10, +5, 0 },
        .next1 = 9, .next2 = 8, .next3 = 8 // 대학원 엔딩 또는 계속
    },
    {   // 8. 서류 합격 통보
        .question = "드디어 가고 싶던 기업에서 서류 합격 문자가 왔다!",
        .choice1 = "친구들에게 자랑하며 술 한잔한다.",
        .choice2 = "기뻐할 틈도 없이 바로 면접을 준비한다.",
        .choice3 = "혹시 오보가 아닐까 의심하며 새로고침한다.",
        .result1 = "기분은 좋지만 다음 날 숙취로 고생했다.",
        .result2 = "완벽한 준비를 마쳤다. 자신감이 넘친다.",
        .result3 = "시간만 낭비했다. 정신 차리자!",
        .stateChange1 = { -5, 0, 0 }, .
        stateChange2 = { -5, +10, 0 }, 
        .stateChange3 = { +10, 0, 0 },
        .next1 = 10, .next2 = 10, .next3 = 10
    },
    {   // 9. 졸업 작품 전시회
    .question = "졸업 작품 전시회를 성공적으로 마쳤다. 그런데 지도 교수님이 다가와 어깨를 잡으신다.\n\"자네, 혹시 연구실 들어올 생각 없나?\"",
    .choice1 = "감사합니다 교수님! 바로 짐 싸서 연구실로 가겠습니다.",
    .choice2 = "죄송합니다. 저는 사회의 맛(월급)을 보고 싶습니다.",
    .choice3 = "못 들은 척하고 전시회장을 도망쳐 나온다.",

    .result1 = "축하합니다. 당신은 이제 대학원생입니다. 전생에 무슨 죄를 지으셨나요?",
    .result2 = "교수님의 눈빛이 차가워졌지만, 당신의 자유를 지켜냈습니다.",
    .result3 = "교수님을 피해 도망쳤지만, 졸업 사정회 때 왠지 불이익이 있을 것 같다.",

    .stateChange1 = { 0, +50, 0 },
    .stateChange2 = { -10, +5, 0 },   // 안도감
    .stateChange3 = { +20, 0, 0 },   // 찝찝함

    .next1 = -1, // 대학원 엔딩 (즉시 종료)
    .next2 = 10, // 취업/면접 단계로 진행
    .next3 = 10, // 취업/면접 단계로 진행

    .graduateFlagTrigger = 1
    },

    // 🌟 면접 분기점 (10~12)
    {   // 10. 면접 – 1차 실무면접
        .question = "실무면접관이 질문한다:\n\"본인이 프로젝트에서 기술적으로 가장 기여한 부분은?\"",
        .choice1 = "사용한 기술 스택과 트러블 슈팅 경험을 답한다.",
        .choice2 = "열심히 했다는 열정을 강조한다.",
        .choice3 = "팀원들이 잘해서 결과가 좋았다고 겸손을 떤다.",
        .result1 = "면접관이 흥미를 느끼며 심화 질문을 던진다.",
        .result2 = "구체성이 떨어진다는 지적을 받았다.",
        .result3 = "자신감이 없어 보인다는 평가를 받았다.",
        .stateChange1 = { +10, +10, 0 }, 
        .stateChange2 = { +5, 0, 0 },
        .stateChange3 = { 0, -5, 0 },
        .next1 = 11, .next2 = 11, .next3 = 11
    },
    {   // 11. 면접 – 압박 질문
        .question = "면접관의 압박 질문:\n\"우리 회사 말고 다른 곳도 붙으면 어디 가실 건가요?\"",
        .choice1 = "당연히 이 회사입니다. 이유를 논리적으로 설명한다.",
        .choice2 = "솔직히 고민될 것 같다고 답한다.",
        .choice3 = "당황해서 어버버거린다.",
        .result1 = "충성심과 논리력을 동시에 인정받았다.",
        .result2 = "솔직함은 가상하나 조직 적합성이 우려된다는 평이다.",
        .result3 = "멘탈이 약해 보인다는 인상을 남겼다.",
        .stateChange1 = { +5, +5, 0 }, 
        .stateChange2 = { +10, 0, 0 }, 
        .stateChange3 = { +10, -5, 0 },
        .next1 = 12, .next2 = 12, .next3 = 12
    },
    {   // 12. 면접 – 역질문
        .question = "마지막으로 우리 회사에 궁금한 점 있나요?",
        .choice1 = "회사의 최근 기술 트렌드 대응 방안을 묻는다.",
        .choice2 = "복지나 연봉, 야근 여부를 묻는다.",
        .choice3 = "없습니다. 수고하셨습니다.",
        .result1 = "공부를 많이 해온 지원자라는 인상을 주었다.",
        .result2 = "현실적이지만 성취욕이 낮아 보일 수 있다.",
        .result3 = "관심이 없어 보이며 면접이 썰렁하게 끝났다.",
        .stateChange1 = { +5, +5, 0 }, 
        .stateChange2 = { 0, 0, 0 }, 
        .stateChange3 = { +10, -5, 0 },
        .next1 = 13, .next2 = 13, .next3 = 13 // 면접 후 졸작 전시회로
    },

    {   // 13. 최종 합격 발표 날
        .question = "휴대폰이 울린다. 최종 합격 여부가 도착했다.",
        .choice1 = "심호흡을 하고 문자를 확인한다.",
        .choice2 = "무서워서 친구에게 대신 봐달라고 한다.",
        .choice3 = NULL,
        .result1 = "합격! 드디어 지긋지긋한 취준 생활 종료!",
        .result2 = "불합격... 세상이 무너지는 기분이다.",
        .result3 = NULL,
        .stateChange1 = { -50, +30, 0 }, 
        .stateChange2 = { +50, 0, 0 },
        .stateChange3 = { 0, 0, 0 },
        .next1 = 14, .next2 = 15, .next3 = -1
    },
    {   // 14. 합격 후의 여유
        .question = "취업 성공! 첫 출근까지 한 달이 남았다.",
        .choice1 = "입사 전까지 실컷 논다.",
        .choice2 = "실무에 필요한 언어를 미리 공부한다.",
        .choice3 = "부모님께 효도 여행을 보내드린다.",
        .result1 = "꿈같은 시간이다. 하지만 곧 직장인의 삶이 시작된다.",
        .result2 = "역시 뼛속까지 개발자다. 실력이 더 늘었다.",
        .result3 = "지갑은 비었지만 마음은 따뜻하다.",
        .stateChange1 = { -30, 0, 0 },
        .stateChange2 = { +5, +20, 0 }, 
        .stateChange3 = { -10, 0, 0 },
        .next1 = 18, .next2 = 18, .next3 = 18
    },
    {   // 15. 탈락 후 재기
        .question = "모든 기업에서 탈락했다. 이제 어떻게 해야 할까?",
        .choice1 = "졸업을 유예하고 다음 상반기를 노린다.",
        .choice2 = "눈을 낮춰 중소기업이라도 바로 지원한다.",
        .choice3 = "다 포기하고 고향으로 내려간다.",
        .result1 = "불안하지만 내실을 다질 시간을 벌었다.",
        .result2 = "커리어를 시작했지만 대기업에 대한 미련이 남는다.",
        .result3 = "백수 엔딩의 기운이 느껴진다.",
        .stateChange1 = { +10, +10, 0 }, 
        .stateChange2 = { +10, +5, 0 }, 
        .stateChange3 = { +10, -50, 0 },
        .next1 = 16, .next2 = 16, .next3 = -1,
        .nojobFlagTrigger = 1
    },
    {   // 16. 졸업 사정 확인
        .question = "졸업 사정 결과, 필수 교양 한 과목이 누락되었다! 지금 상태론 졸업이 불가능하다.",
        .choice1 = "교수님 연구실 앞에서 밤을 새우며 대체 과목 인정을 빈다.",
        .choice2 = "이게 학교냐? 그냥 졸업장 안 받고 사회로 나간다.",
        .choice3 = "에라 모르겠다. 한 학기 더 다니며 학교의 '화석'이 된다.",

        .result1 = "진심이 통했다! 교수님이 특별 과제를 조건으로 졸업을 승인해주셨다.",
        .result2 = "졸업장 없는 공대생... 고졸 학력으로 취업 전선에 뛰어들게 되었다.",
        .result3 = "등록금은 증발했고, 당신은 이제 후배들도 모르는 유령 선배가 되었다.",

        .stateChange1 = { +50, +5, 0 },  // 극심한 스트레스, 약간의 실력 상승
        .stateChange2 = { 0, -50, 0 },   // 실력(학위) 상실
        .stateChange3 = { +20, 0, 0 },   // 스트레스 유지

        .next1 = 17,
        .next2 = -1, // 배드엔딩: [중도 포기 엔딩]
        .next3 = -1, // 배드엔딩: [영원한 휴학생 엔딩]

        .nojobFlagTrigger = 2,   // 2번 선택 시: 학위 미취득으로 인한 백수 확정
        .quitFlagTrigger = 3     // 3번 선택 시: 학업 의지 상실 및 화석 엔딩
    },
    {   // 17. 마지막 술자리
        .question = "동기들과 대학 시절 마지막 술자리를 가졌다.",
        .choice1 = "서로의 앞날을 축복하며 훈훈하게 마무리한다.",
        .choice2 = "취업한 동기를 질투하며 깽판을 친다.",
        .choice3 = "술에 취해 지난 4년을 후회하며 운다.",
        .result1 = "좋은 인맥을 남겼다. 사회에서 보자!",
        .result2 = "동기들 단톡방에서 강퇴당했다.",
        .result3 = "스트레스는 풀렸지만 다음 날 이불킥 확정.",
        .stateChange1 = { -20, 0, 0}, 
        .stateChange2 = { +20, 0, 0}, 
        .stateChange3 = { -10, 0, 0 },
        .next1 = 18, .next2 = 18, .next3 = 18,
    },
    {   // 18. 졸업식
        .question = "학사모를 던지는 순간, 당신의 머릿속에 드는 생각은?",
        .choice1 = "드디어 사회인이다! 돈 많이 벌자!",
        .choice2 = "다시 1학년으로 돌아가고 싶다.",
        .choice3 = "인생은 이제부터 시작이다.",
        .result1 = "희망찬 미래를 꿈꾸며 정문을 나선다.",
        .result2 = "미련이 가득하지만 발걸음을 옮긴다.",
        .result3 = "어떤 고난이 와도 이겨낼 자신감이 생겼다.",
        .stateChange1 = { 0, 0, 0 }, 
        .stateChange2 = { 0, 0, 0 }, 
        .stateChange3 = { 0, 0, 0 },
        .next1 = -1, .next2 = -1, .next3 = -1
    }
};

#endif